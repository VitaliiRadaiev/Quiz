<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/libs.css">
    <link rel="stylesheet" href="css/main_new.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <section class="promo-header">
        <div class="promo-header__body">
            <div class="promo-header__column-1">
                <div class="promo-header__img">
                    <img src="img/photo/promo-header-img.svg" alt="">
                </div>
            </div>
            <div class="promo-header__column-2">
                <h1 class="promo-header__title">WELCOME!</h1>
                <div class="promo-header__text text-content">
                    <p> 
                        Securance's hardened network assessment will measure your network security posture and generate a customized report in less than a minute.
                    </p>
                    <p>
                        The assessment is divided into eight major sections based on the typical structure of an enterprise network and the security measures we recommend. 
                    </p>
                    <p>
                        Each section contains up to 20 questions, categorized and weighted by their degree of importance to the organization's overall network security posture:
                    </p>
                </div>
                <ul class="promo-header__list">
                    <li class="star-li">essential</li>
                    <li class="ellipse-li">moderately security-focused</li>
                    <li class="square-li">extremely security-focused</li>
                </ul>
                <div class="promo-header__btn-group">
                    <a href="#" class="btn-default">start the assessment</a>
                    <div class="btn-default quiz-model__watch-video" data-vimeo="148922201">watch the video</в>
                </div>
                <div class="promo-header__bottom text-content">
                    <p>Scroll down to see the model sections</p>
                    <a href="#home-content" class="promo-header__scroll-icon _scroll-to">
                        <img src="img/icons/chevron-down.svg" alt="">
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section id="home-content" class="quiz-model">
        <div class="quiz-model__body">
            <h2 class="quiz-model__title">high-level model hardened enterprise network</h2>
            <div class="quiz-model__items">
                <div class="quiz-model__item quiz-model__item-1">
                    <div class="quiz-model__label-wrap">
                        <div class="quiz-model__label">
                            <span>01</span>
                        </div>
                    </div>
                    <div class="quiz-model__img">
                        <a href="#quizModel-1" class="quiz-model__popup-trigger popup-link"></a>
                        <img src="img/photo/model-1@1.5x.png" alt="">
                    </div>
                </div>
                <div class="quiz-model__item quiz-model__item-2">
                    <div class="quiz-model__label-wrap">
                        <div class="quiz-model__label">
                            <span>02</span>
                        </div>
                    </div>
                    <div class="quiz-model__img">
                        <a href="#quizModel-2" class="quiz-model__popup-trigger popup-link"></a>
                        <img src="img/photo/model-2@1.5x.png" alt="">
                    </div>
                </div>
                <div class="quiz-model__item quiz-model__item-3">
                    <div class="quiz-model__label-wrap">
                        <div class="quiz-model__label">
                            <span>03</span>
                        </div>
                    </div>
                    <div class="quiz-model__img">
                        <a href="#quizModel-3" class="quiz-model__popup-trigger popup-link"></a>
                        <img src="img/photo/model-3@1.5x.png" alt="">
                    </div>
                </div>
                <div class="quiz-model__item quiz-model__item-4">
                    <div class="quiz-model__label-wrap quiz-model__label-wrap-1">
                        <div class="quiz-model__label">
                            <span>04</span>
                        </div>
                    </div>
                    <div class="quiz-model__label-wrap quiz-model__label-wrap-2">
                        <div class="quiz-model__label">
                            <span>05</span>
                        </div>
                    </div>
                    <div class="quiz-model__img">
                        <a href="#quizModel-4" class="quiz-model__popup-trigger popup-link quiz-model__popup-trigger-1"></a>
                        <a href="#quizModel-5" class="quiz-model__popup-trigger popup-link quiz-model__popup-trigger-2"></a>
                        <img src="img/photo/model-4@1.5x.png" alt="">
                    </div>
                </div>
                <div class="quiz-model__item quiz-model__item-5">
                    <div class="quiz-model__label-wrap quiz-model__label-wrap-1">
                        <div class="quiz-model__label">
                            <span>08</span>
                        </div>
                    </div>
                    <div class="quiz-model__label-wrap quiz-model__label-wrap-2">
                        <div class="quiz-model__label">
                            <span>06</span>
                        </div>
                        <div class="quiz-model__label">
                            <span>07</span>
                        </div>
                        <div class="quiz-model__label">
                            <span>09</span>
                        </div>
                        <div class="quiz-model__label">
                            <span>10</span>
                        </div>
                    </div>
                    <div class="quiz-model__img">
                        <a href="#quizModel-7" class="quiz-model__popup-trigger popup-link quiz-model__popup-trigger-1"></a>
                        <a href="#quizModel-6" class="quiz-model__popup-trigger popup-link quiz-model__popup-trigger-2"></a>
                        <a href="#quizModel-8" class="quiz-model__popup-trigger popup-link quiz-model__popup-trigger-3"></a>
                        <img src="img/photo/model-5@1.5x.png" alt="">
                    </div>
                </div>
            </div>
            <div class="quiz-model__btn-group">
                <a href="#" class="btn-default">start the assessment</a>
                <a href="#quizVideo"  class="btn-default quiz-model__watch-video popup-link">watch the video</a>
            </div>
        </div>
    </section>

    <div class="quiz-home-popup" id="quizModel-1">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-1@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    IT governance sets the foundation for an enterprise’s IT security posture. It requires an IT steering committee; IT policies, procedures, standards, and guidelines; and performance measures and metrics.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-2">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-2@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    Wide and metropolitan area networks (WANs and MANs) are used by organizations with multiple remote physical locations requiring direct connections to the core enterprise network. This section focuses on security measures and controls around WANs and MANs.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-3">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-3@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    All organizations have an Internet presence, Internet access, and third-party connections, for example, to cloud providers and strategic partners. This section focuses on the security and controls surrounding an organization’s Internet presence.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-4">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-4@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    Every organization with Internet access has an Internet service provider (ISP) and a firewall (ideally, a next-generation model) to protect IT assets from external threats. This section provides important security measures and controls related to the ISP and the Internet-facing firewall.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-5">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-5@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    Many organizations use web applications to interact with customers. As such, web applications are a critical component of the overall technology security posture. This section focuses on basic web-application security controls.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-6">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-6@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    In this section, we evaluate your internal network security posture with questions about core router and WiFi configurations. Properly configuring the core router and wireless controller is critical to a secure internal computing environment.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-7">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-7@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    The final section of the assessment focuses on enterprise applications and network storage. These questions provide insight into the effectiveness of your data security measures.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizModel-8">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__img">
                    <img src="img/photo/popup-8@1.5x.png" alt="">
                </div>
                <div class="quiz-home-popup__text text-content">
                    The typical enterprise network has a directory service technology, such as Active Directory, a network access control (NAC) solution, and an access-layer switch with defined user VLANs. This section provides security measures and controls related to Active Directory, NAC, and access-layer switching.
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>
    <div class="quiz-home-popup" id="quizVideo">
		<div class="quiz-home-popup_body">
			<div class="quiz-home-popup_content">
				<div class="quiz-home-popup__close close-popup"><span></span></div>
                <div class="quiz-home-popup__video">
                    <video playsinline preload="auto" poster="https://staging.securanceconsulting.com/wp-content/uploads/2021/04/financial-services-1.jpeg">
                        <source src="https://staging.securanceconsulting.com/wp-content/themes/velesh_theme/sc/video.mp4" type="video/mp4"> 
                    </video>
                    <div class="quiz-home-popup__play play-button"></div>
                </div>
                <div class="quiz-home-popup__btn btn-default close-popup">BACK to assessment</div>
			</div>
		</div>
	</div>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            (function scrollToInit() {
                let triggers = document.querySelectorAll('._scroll-to');
                if(triggers.length) {
                    triggers.forEach(trigger => {
                        let id = trigger.getAttribute('href').match(/#.+$/gi).join('').replace('#', '');
                        let $el = document.getElementById(id);
  
                        trigger.addEventListener('click', (e) => {
                            e.preventDefault();
                            window.scrollTo({
                                top: $el.offsetTop,
                                behavior: 'smooth'
                            })
                        })
                    })
                }
            })();

        const popupLinks = document.querySelectorAll('.popup-link');
		const body = document.querySelector('body');
		const lockPadding = document.querySelectorAll('.lock-padding');

		let unlock = true;

		const timeout = 800;

		function openQuizPopup(id) {
			let $el = document.querySelector(`${id}`);
			if ($el) {
				popupOpen($el)
			} else {
				throw new Error('Element not found');
			}
		}
		// example
		//openQuizPopup('#popupMessage');

		if (popupLinks.length > 0) {
			for (let index = 0; index < popupLinks.length; index++) {
				const popupLink = popupLinks[index];
				if (popupLink) {
					popupLink.addEventListener('click', function (e) {
						const popupName = popupLink.getAttribute('href').replace('#', '');
						const curentPopup = document.getElementById(popupName);
						popupOpen(curentPopup);
						e.preventDefault();
					});
				}

			}
		}


		const popupCloseIcon = document.querySelectorAll('.close-popup');
		if (popupCloseIcon.length > 0) {
			for (let index = 0; index < popupCloseIcon.length; index++) {
				const el = popupCloseIcon[index];
				el.addEventListener('click', function (e) {
					popupClose(el.closest('.quiz-home-popup'));
					e.preventDefault();
				});
			}
		}

		function popupOpen(curentPopup) {
			if (curentPopup && unlock) {
				const popupActive = document.querySelector('.quiz-home-popup.open');
				if (popupActive) {
					popupClose(popupActive, false);
				} else {
					bodyLock();
				}
				curentPopup.classList.add('open');
				curentPopup.addEventListener('click', function (e) {
					if (!e.target.closest('.quiz-home-popup_content')) {
						popupClose(e.target.closest('.quiz-home-popup'));
					}
				});

			}
		}

		function popupClose(popupActive, doUnlock = true) {
			if (unlock) {
                let video = document.querySelector('.quiz-home-popup__video video');
                if(video) {
                    video.pause()
                }
				popupActive.classList.remove('open');
				if (doUnlock) {
					bodyUnlock();
				}
			}
		}

		function bodyLock() {
			const lockPaddingValue = window.innerWidth - document.querySelector('body').offsetWidth + 'px';
			let targetPadding = document.querySelectorAll('._lp');
			if (targetPadding.length) {
				for (let index = 0; index < targetPadding.length; index++) {
					const el = targetPadding[index];
					el.style.paddingRight = lockPaddingValue;
				}
			}

			if (lockPadding.length > 0) {
				for (let index = 0; index < lockPadding.length; index++) {
					const el = lockPadding[index];
					el.style.paddingRight = lockPaddingValue;
				}
			}

			body.style.paddingRight = lockPaddingValue;
			body.classList.add('lock');

			unlock = false;
			setTimeout(function () {
				unlock = true;
			}, timeout);
		}

		function bodyUnlock() {
			let targetPadding = document.querySelectorAll('._lp');

			setTimeout(function () {
				if (targetPadding.length) {
					for (let index = 0; index < targetPadding.length; index++) {
						const el = targetPadding[index];
						el.style.paddingRight = '0px';
					}
				}

				for (let index = 0; index < lockPadding.length; index++) {
					const el = lockPadding[index];
					el.style.paddingRight = '0px';
				}

				body.style.paddingRight = '0px';
				body.classList.remove('lock');
			}, timeout);

			unlock = false;
			setTimeout(function () {
				unlock = true;
			}, timeout);
		}

		document.addEventListener('keydown', function (e) {
			if (e.which === 27) {
				const popupActive = document.querySelector('.quiz-home-popup.open');
				popupClose(popupActive);
			}
		});

		// === Polyfill ===
		(function () {
			if (!Element.prototype.closest) {
				Element.prototype.closest = function (css) {
					var node = this;
					while (node) {
						if (node.matches(css)) return node;
						else node == node.parentElement;
					}
					return null;
				};
			}
		})();

		(function () {
			if (!Element.prototype.matches) {
				Element.prototype.matches = Element.prototype.matchesSelector ||
					Element.prototype.webkitMatchesSelector ||
					Element.prototype.mozMatchesSelector ||
					Element.prototype.mozMatchesSelector;
			}
		})();
        // === AND Polyfill ===


        });

        let videoWrap = document.querySelector('.quiz-home-popup__video');
        if(videoWrap) {
            let video = videoWrap.querySelector('video');
            let btn = videoWrap.querySelector('.quiz-home-popup__play');
            console.log(video, btn);
            btn.addEventListener('click', () => {
                video.play()
                video.setAttribute('controls', true);
                btn.style.opacity = 0;
            })
        }
    </script>
</body>
</html>